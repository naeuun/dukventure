{% extends "base.html" %}
{% block content %}
<div class="review-list-container">
    <div class="review-list-header">
        <h2>받은 리뷰 🎀</h2>
    </div>

    {% for review in reviews %}
        <div class="review-card">
            <div class="review-profile">
                <!-- 실제 유저 프로필 이미지로 교체 필요 -->
                <img src="https://placehold.co/60x60/2a2a2a/cccccc?text={{ review.author.user.username|first }}" alt="프로필 사진">
            </div>
            <div class="review-content">
                <div class="review-meta">
                    <div class="review-stars">
                        {% for i in "12345" %}
                            {% if i|add:0 <= review.rating %}★{% else %}<span class="empty">★</span>{% endif %}
                        {% endfor %}
                    </div>
                    <div class="review-info">
                        <span>{{ review.created_at|date:"Y.m.d" }}</span>
                    </div>
                </div>
                <p class="review-text">{{ review.content }}</p>
                {% if review.photo %}
                    <div class="review-photo">
                        <img src="{{ review.photo.url }}" alt="리뷰 사진">
                    </div>
                {% endif %}
                <div class="keywords">
                    {% for keyword in review.get_keywords_as_list %}
                        <span>{{ keyword }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% empty %}
        <p style="text-align: center;">아직 받은 리뷰가 없습니다.</p>
    {% endfor %}
</div>
{% endblock %}
