{% extends "base.html" %}
{% block content %}
<h2>{{ store.name }}</h2>
<p>{{ store.description }}</p>
<hr>
<h3>판매 상품</h3>
{% for store_item in store.store_items.all %}
    <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
        <h4>{{ store_item.item.name }}</h4>
        <p>{{ store_item.price }}원 / {{ store_item.unit|default_if_none:"" }}</p>
        
        <form action="{% url 'reservations:create_from_form' %}" method="post">
            {% csrf_token %}
            <input type="hidden" name="store_id" value="{{ store.id }}">
            <input type="hidden" name="item_id" value="{{ store_item.id }}">
            <label>수량: <input type="number" name="quantity" value="1" min="1" style="width: 50px;"></label>
            <label>픽업 시간: <input type="time" name="pickup_time" required></label>
            <button type="submit">이 상품으로 예약하기</button>
        </form>
    </div>
{% empty %}
    <p>판매 중인 상품이 없습니다.</p>
{% endfor %}
<a href="{% url 'stores:store-list' %}">다른 가게 보기</a>
{% endblock %}